# Migration `20200419173114-init`

This migration has been generated by Tom Chauveau at 4/19/2020, 5:31:14 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Roles" DROP CONSTRAINT IF EXiSTS "Roles_userId_fkey",
ALTER COLUMN "userId" DROP NOT NULL;

ALTER TABLE "public"."Roles" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200419141828-init..20200419173114-init
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -18,34 +18,34 @@
     Done
 }
 model Project {
-    id       String     @default(uuid()) @id
+    id       String      @default(uuid()) @id
     name     String
     status   Status
     airtable String?
     github   String?
-    user     User    @relation(fields: [userId], references: [id])
+    user     User        @relation(fields: [userId], references: [id])
     userId   String
 }
 model Roles {
-    id          String     @default(uuid()) @id
-    name        String  @unique
-    admin       Boolean @default(false)
-    add_role    Boolean @default(false)
-    recommend   Boolean @default(false)
-    write       Boolean @default(false)
-    add_member  Boolean @default(false)
-    create_pro  Boolean @default(false)
-    user        User    @relation(fields: [userId], references: [id])
-    userId      String
+    id          String   @default(uuid()) @id
+    name        String   @unique
+    admin       Boolean  @default(false)
+    add_role    Boolean  @default(false)
+    recommend   Boolean  @default(false)
+    write       Boolean  @default(false)
+    add_member  Boolean  @default(false)
+    create_pro  Boolean  @default(false)
+    user        User?    @relation(fields: [userId], references: [id])
+    userId      String?
 }
 // User model
 model User {
     id       String      @default(uuid()) @id
-    mail     String   @unique
-    token    String?  @unique
+    mail     String      @unique
+    token    String?     @unique
     roles    Roles?
     project  Project[]
 }
```


